<div class="panel panel-default">
    <div class="panel-heading">注册</div>
    <div class="panel-body">
        <form class="form-horizontal">
            <div class="form-group">
                <label for="name" class="col-sm-2 control-label">用户名</label>
                <div class="col-sm-6">
                    <input type="text" class="form-control" name="name" id="name" placeholder="Name">
                </div>
            </div>
            <div class="form-group">
                <label for="email" class="col-sm-2 control-label">邮箱</label>
                <div class="col-sm-6">
                    <input type="text" class="form-control" name="email" id="email" placeholder="Email">
                </div>
            </div>
            <div class="form-group">
                <label for="password-by-name" class="col-sm-2 control-label">密码</label>
                <div class="col-sm-6">
                    <input type="password" class="form-control" name="password" id="password-by-name"
                           placeholder="Password">
                </div>
            </div>
            <div class="form-group">
                <div class="col-sm-offset-2 col-sm-6">
                    <button type="button" class="btn btn-default register-btn">注册</button>
                    <a href="/login">登录</a>
                </div>
            </div>
        </form>
    </div>
</div>
</div>

<script>
    $(".register-btn").on("click", function () {
        var form = $(this).closest("form").serialize();
        $.ajax({
            type: 'POST',
            url: "/register",
            data: form,
            headers: {
                Accept : "application/json"
            }
        }).done(function (data) {
            if (messagePro(data)) {
                window.location.href = "/";
            }
        });
    });
</script>